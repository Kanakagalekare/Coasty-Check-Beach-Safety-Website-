<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<!-- Boxicons -->
	<link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'>
	<!-- CSS -->
	<link rel="stylesheet" href="style.css">
    <style>
		body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f4f4f9;
      display: flex;
      height: 100vh;
    }

    .container {
      display: flex;
      gap: 20px;
      width: 100%;
      max-width: 1200px;
	  padding: 100px;
    }

    .form-container {
      flex: 1;
      background: #fff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .form-container h2 {
      margin-bottom: 20px;
      color: #333;
    }

    .form-group {
      margin-bottom: 15px;
    }

    .form-group label {
      display: block;
      margin-bottom: 5px;
      font-weight: bold;
    }

    .form-group input {
      width: 100%;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }

    .form-group button {
      padding: 10px 15px;
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    .form-group button:hover {
      background-color: #b30000;
    }

    .list-container {
      flex: 1;
      background: #fff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
	  overflow-y: scroll;
	  height: 400px;
    }

    .list-container h2 {
      margin-bottom: 20px;
      color: #333;
    }

    .list-container ul {
      list-style: none;
      padding: 0;
    }

    .list-container ul li {
      margin-bottom: 15px;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
      background-color: #f9f9f9;
      display: flex;
      justify-content: space-between;
      align-items: center;
	  
    }

    .list-container ul li button {
      padding:  10px;
      background-color: #19b2c9;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    .list-container ul li button:hover {
      background-color: #cc0000;
    }


	h1 {
		text-align: center;
		color: #333;
	}

	.card1 {
		border: 1px solid #ddd;
		border-radius: 5px;
		padding: 15px;
	}

	.card1 p {
		margin: 10px 0;
		line-height: 1.5;
	}

	.card1 ul {
		list-style-type: square;
		margin: 10px 0 0 20px;
		padding: 0;
	}

	.card1 ul li {
		margin: 5px 0;
	}



</style>

	<title>Coasty Check</title>
</head>
<body>
	<!-- SIDEBAR -->
	<section id="sidebar">
		<a href="#" class="brand">
			<i class='bx bxs-smile'></i>
			<span class="text">Beach Admin</span>
		</a>
		
        <ul class="side-menu top">
			<li class="active">
				<a href="D:\Demo\dashboard\index.html">
					<i class='bx bxs-dashboard' ></i>
					<span class="text">Dashboard</span>
				</a>
			</li>
			<li>
				<a href="D:\Demo\dashboard\beaches.html">
					<i class='bx bx-list-ul'></i>
					<span class="text">ADD Beaches</span>
				</a>
			</li>
			<li>
				<a href="D:\Demo\dashboard\activity.html">
					<i class='bx bx-body'></i>
					<span class="text">ADD Activity In-charge</span>
				</a>
			</li>
			<li>
				<a href="D:\Demo\dashboard\notification.html">
					<i class='bx bxs-message-dots' ></i>
					<span class="text">ADD Notifications</span>
				</a>
			</li>
            <li>
				<a href="D:\Demo\dashboard\weather.html">
					<i class='bx bxs-cloud'></i>
					<span class="text">Weather Forecast</span>
				</a>
			</li>
			<li>
				<a href="D:\Demo\dashboard\map.html">
					<i class='bx bxs-map'></i>
				  <span class="text">Coastal Map</span>
				</a>
			  </li>
		
		</ul>
		<ul class="side-menu">
			<li>
				<a href="ocean.html">
				  <i class='bx bxs-bell'></i>
				  <span class="text">Notifications</span>
				</a>
			  </li>
			  <li>
				<a href="D:\Demo\dashboard\B-profile.html">
				  <i class='bx bxs-user-circle'></i>
				  <span class="text">Profile</span>
				</a>
			  </li>
			<li>
				<a href="#" class="logout">
					<i class='bx bxs-log-out-circle' ></i>
					<span class="text">Logout</span>
				</a>
			</li>
		</ul>
	</section>
	<!-- SIDEBAR -->

	<!-- CONTENT -->
	<section id="content">
		
		<!-- MAIN -->
		<main>
			<div class="head-title">
			  <div class="left">
				<h1>Dashboard</h1>
				<ul class="breadcrumb">
				  <li>
					<a href="#">Dashboard</a>
				  </li>
				  <li><i class='bx bx-chevron-right'></i></li>
				  <li>
					<a class="active" href="#">ADD Activity In-charge</a>
				  </li>
				</ul>
			  </div> <br><br>

			<div class="container">
				<!-- Form Container -->
				<div class="form-container">
				  <h2>Add Activity In-Charge</h2>
				  <div class="form-group">
					<label for="inchargeName">In-Charge Name</label>
					<input type="text" id="inchargeName" placeholder="Enter name" required>
				  </div>
				  <div class="form-group">
					<label for="beachName">Beach Name</label>
					<input type="text" id="beachName" placeholder="Enter beach name" required>
				  </div>
				  <div class="form-group">
					<label for="emailId">Email ID</label>
					<input type="email" id="emailId" placeholder="Enter email" required>
				  </div>
				  
				  <div class="form-group">
					<button id="addInchargeButton">Add In-Charge</button>
				  </div>
				</div>
			  
				<!-- List Container -->
				<div class="list-container">
				  <h2>Activity In-Charges</h2>
				  <ul id="inchargeList"></ul>
				</div>
	  </div> <br> <br> 

	
	
			  
<script type="module">
	import { initializeApp } from "https://www.gstatic.com/firebasejs/9.17.1/firebase-app.js";
	import { getDatabase, ref, set, push, onValue, remove } from "https://www.gstatic.com/firebasejs/9.17.1/firebase-database.js";

	// Firebase configuration
	const firebaseConfig = {
	apiKey: "AIzaSyA5PPJOvBXrt1BXLXpNirWYLqYTi9PuyGg",
	authDomain: "finalproject-7d8fd.firebaseapp.com",
	databaseURL: "https://finalproject-7d8fd-default-rtdb.firebaseio.com/",
	projectId: "finalproject-7d8fd",
	storageBucket: "finalproject-7d8fd.appspot.com",
	messagingSenderId: "1098406126947",
	appId: "1:1098406126947:web:81cd954a947196683e9f56",
	measurementId: "G-K0JHYPP2E9"
	};

	// Initialize Firebase
	const app = initializeApp(firebaseConfig);
	const db = getDatabase(app);

	// Add In-Charge 
	document.getElementById('addInchargeButton').addEventListener('click', async () => {
	const name = document.getElementById('inchargeName').value.trim();
	const beach = document.getElementById('beachName').value.trim();
	const email = document.getElementById('emailId').value.trim();

	if (name && beach && email) {
	try {
		const newInchargeRef = push(ref(db, 'Activity-Incharges'));
		await set(newInchargeRef, { name, beach, email });

		alert('In-Charge added successfully!');
		document.getElementById('inchargeName').value = '';
		document.getElementById('beachName').value = '';
		document.getElementById('emailId').value = '';
	} catch (error) {
		console.error('Error adding In-Charge:', error);
		alert('Failed to add In-Charge.');
	}
	} else {
	alert("All fields are required!");
	}
	});

	// Display In-Charges 
	const inchargeList = document.getElementById('inchargeList');
	const inchargeRef = ref(db, 'Activity-Incharges');

	onValue(inchargeRef, (snapshot) => {
	inchargeList.innerHTML = '';  // Clear the list before adding new items
	const incharges = snapshot.val();

	if (incharges) {
	Object.keys(incharges).forEach((id) => {
		const { name, beach, email } = incharges[id];
		const listItem = document.createElement('li');
		listItem.innerHTML = `
		<div class="activity-info">
		<strong>Name :</strong> ${name}<br>
		<strong>Beach Name :</strong> ${beach}<br>
		<strong>Email</strong> ${email}
		</div>
		`;


    // View button
	const viewButton = document.createElement('button');
	viewButton.textContent = 'View';
	viewButton.addEventListener('click', () =>{
		window.location.href='cheerai.html';
	}) ;
	// delete button
	const deleteButton = document.createElement('button');
	deleteButton.textContent = 'Delete';
	deleteButton.addEventListener('click', () => {

	const inchargeToDeleteRef = ref(db, `Activity-Incharges/${id}`);
	remove(inchargeToDeleteRef)
		.then(() => {
		alert('In-Charge deleted successfully!');
		})
		.catch((error) => {
		console.error('Error deleting In-Charge:', error);
		alert('Failed to delete In-Charge.');
		});
	});
	listItem.appendChild(deleteButton);
	listItem.appendChild(viewButton);
	inchargeList.appendChild(listItem);
});
}
});

</script>


</body>
</html>
